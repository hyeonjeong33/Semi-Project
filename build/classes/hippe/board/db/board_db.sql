-- :::::::::::::::::::::::::: 게시판 ::::::::::::::::::::::::::::::::
-- ::::::::::: 카테고리 : 자유(1) / 후기(2) / 이벤트(3) :::::::::::::::::::::::

-- 카테고리번호, 게시글번호, 그룹번호, 그룹순서, 들여쓰기,
-- 작성자, 글제목, 글내용, 작성일, 조회수

DROP TABLE BOARD;
DROP SEQUENCE POSTNUMSEQ;
DROP SEQUENCE GROUPNUMSEQ;

CREATE SEQUENCE POSTNUMSEQ;
CREATE SEQUENCE GROUPNUMSEQ;
CREATE TABLE BOARD(
	BOARD_CATEGORY NUMBER NOT NULL,
	BOARD_POSTNUM NUMBER PRIMARY KEY,
	BOARD_GROUPNUM NUMBER NOT NULL,
	BOARD_GROUPORDER NUMBER NOT NULL,
	TITLETAB NUMBER NOT NULL,
	WRITER VARCHAR2(200) NOT NULL,
	BOARD_TITLE VARCHAR2(2000) NOT NULL,
	BOARD_CONTENT CLOB NOT NULL,
	BOARD_REGDATE DATE NOT NULL,
	BOARD_VIEWS NUMBER NOT NULL
);

SELECT * FROM BOARD;
SELECT * FROM BOARD WHERE BOARD_CATEGORY = 3;
SELECT * FROM BOARD WHERE BOARD_CATEGORY = 2;
SELECT * FROM BOARD WHERE BOARD_CATEGORY = 1;
DELETE FROM BOARD;

SELECT * FROM BOARD WHERE BOARD_CATEGORY = 1 ORDER BY BOARD_POSTNUM DESC, BOARD_GROUPNUM DESC, BOARD_GROUPORDER;

		SELECT *
		FROM BOARD
		WHERE BOARD_CATEGORY = 1
		AND BOARD_TITLE LIKE '%'||'돼지'||'%';
		
		SELECT RN ,BOARD_CATEGORY, BOARD_POSTNUM, BOARD_GROUPNUM, BOARD_GROUPORDER,
		TITLETAB, WRITER, BOARD_TITLE, BOARD_CONTENT, BOARD_REGDATE, BOARD_VIEWS
		FROM (SELECT ROWNUM as RN ,BOARD_CATEGORY, BOARD_POSTNUM, BOARD_GROUPNUM, BOARD_GROUPORDER,
		TITLETAB, WRITER, BOARD_TITLE, BOARD_CONTENT, BOARD_REGDATE, BOARD_VIEWS 
		FROM (SELECT BOARD_CATEGORY, BOARD_POSTNUM, BOARD_GROUPNUM, BOARD_GROUPORDER,
		TITLETAB, WRITER, BOARD_TITLE, BOARD_CONTENT, BOARD_REGDATE, BOARD_VIEWS 
		FROM BOARD ORDER BY BOARD_POSTNUM DESC, BOARD_GROUPNUM DESC, BOARD_GROUPORDER))
		WHERE BOARD_CATEGORY = 1
		AND (RN BETWEEN 1 AND 10);
		
		
		SELECT ROWNUM as RN ,BOARD_CATEGORY, BOARD_POSTNUM, BOARD_GROUPNUM, BOARD_GROUPORDER,
		TITLETAB, WRITER, BOARD_TITLE, BOARD_CONTENT, BOARD_REGDATE, BOARD_VIEWS 
		FROM (SELECT BOARD_CATEGORY, BOARD_POSTNUM, BOARD_GROUPNUM, BOARD_GROUPORDER,
		TITLETAB, WRITER, BOARD_TITLE, BOARD_CONTENT, BOARD_REGDATE, BOARD_VIEWS 
		FROM BOARD WHERE BOARD_CATEGORY = 1 ORDER BY BOARD_POSTNUM DESC, BOARD_GROUPNUM DESC, BOARD_GROUPORDER)
		WHERE (RN BETWEEN 1 AND 10);
		
		SELECT *
		FROM BOARD
		WHERE BOARD_CATEGORY = 2
		AND (BOARD_TITLE LIKE '%'||''||'%' 
		OR BOARD_CONTENT LIKE '%'||'이하'||'%')
		
		
		
--연습용
INSERT INTO BOARD VALUES(1, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '한디두', '축구보러가실 동행구해요', '이하동문', SYSDATE, 0);
				  
INSERT INTO BOARD VALUES(1, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '저년정', '이게 왜안될까요', '이하동문', SYSDATE, 0);

INSERT INTO BOARD VALUES(2, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '한지니', '영감탱 가만안둬', '이하동문', SYSDATE, 0);
			
INSERT INTO BOARD VALUES(1, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '마이노', '돼지바 사드림', '이하동문', SYSDATE, 0);

INSERT INTO BOARD VALUES(3, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '송치윤', '누나 저 이제뭐할까요', '이하동문', SYSDATE, 0);	  
				  


				  
INSERT INTO BOARD VALUES(1, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  'aa', '누나 저 이제뭐할까요', '이하동문', SYSDATE, 0);	  
				  
INSERT INTO BOARD VALUES(3, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '마이노', '3번', '이하동문', SYSDATE, 0);				  

INSERT INTO BOARD VALUES(2, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '한디두', '2 동행구해요', '이하동문', SYSDATE, 0);
				  
INSERT INTO BOARD VALUES(2, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '저년정', '2 왜안될까요', '이하동문', SYSDATE, 0);

INSERT INTO BOARD VALUES(3, POSTNUMSEQ.NEXTVAL, GROUPNUMSEQ.NEXTVAL, 1, 0 ,
				  '한지니', '3 가만안둬', '이하동문', SYSDATE, 0);

				  